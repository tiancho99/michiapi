{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_field%}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/index.css') }}">
{% endblock styles%}

{% block title %}Michi API Home{% endblock title %}

{% block content %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand logo" href="#">>_SebastianHernandez$</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('about') }}">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('documentation') }}">Documentation</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<hr>
<div class="container pt-5 pb-3">
    <div class="row banner mb-5">
        <div class="col">
            <h1 class="api_name">MichiAPI</h1>
            <h2 class="api_description">üêæ Welcome to the Michis API - An API full of michis üê±‚ú®</h2>
            <p></p>

        </div>
    </div>
    <hr class="mb-5">
    <div class="row mb-2">
        <div class="col">
            <h6 class="">Make a request:</h6>
            <form>
                <div class="input-group mb-3">
                    <span class="input-group-text bg-dark" id="basic-addon3">http://michiapi.sebastianhernandez.dev/api/</span>
                    <input type="text" name="search" id="search" class="form-control" id="bsic-url"
                        placeholder="michis/1">
                    <input type="button" value="Request" name="submit" class="btn btn-primary" onclick="fetchData()">
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col response">
            <pre class="canvas-data overflow-auto" id="canvas-data">
                {{- data -}}
            </pre>
        </div>
    </div>
    <hr class="mt-5">
</div>
{% endblock content %}
{% block year %}{{ year }}{% endblock %}
{% block scripts %}
<script>
    const API_ENDPOINT = "{{ url_for('michiapi.api', ) }}"
    console.log(API_ENDPOINT)
</script>
<script src="{{ url_for('static', filename='javascript/index.js') }}"></script>
{{ super() }}
{% endblock scripts%}
